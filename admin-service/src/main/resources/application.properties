spring.application.name=admin-service

# Server Configuration
server.port=${SERVER_PORT:8091}
server.servlet.context-path=${SERVER_CONTEXT_PATH:/api/v1}

# Redis Configuration (Upstash - using environment variables)
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.password=${REDIS_PASSWORD:}
spring.data.redis.ssl.enabled=${REDIS_SSL_ENABLED:false}
spring.data.redis.username=${REDIS_USERNAME:default}
spring.data.redis.timeout=${REDIS_TIMEOUT:5000ms}

# MongoDB Configuration (Atlas Cloud - using environment variables)
spring.data.mongodb.uri=${MONGODB_URI:mongodb://localhost:27017/admin}
spring.data.mongodb.database=${MONGODB_DATABASE:admin}

# PostgreSQL Configuration (for vehicle_types table)
spring.datasource.url=jdbc:postgresql://db.hgpicovzphnrhsdhggqs.supabase.co:5432/postgres?sslmode=require
spring.datasource.username=postgres
spring.datasource.password=islandhop123#
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true

# Firebase Configuration (using environment variables)
firebase.service-account-key=${FIREBASE_SERVICE_ACCOUNT_KEY:classpath:serviceAccountKey.json}
firebase.project-id=${FIREBASE_PROJECT_ID:default-project}

# Management and Health Check Configuration
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized

# Logging Configuration
logging.level.com.islandhop.adminservice=DEBUG
logging.level.org.springframework.data.redis=DEBUG
logging.level.org.springframework.data.mongodb=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.data.jpa=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.pattern.console=%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n

# CORS Configuration
spring.web.cors.allowed-origins=http://localhost:5173
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.web.cors.allowed-headers=*
spring.web.cors.allow-credentials=true

# Cloud Database Configuration (Supabase)
spring.datasource.url=jdbc:postgresql://db.hgpicovzphnrhsdhggqs.supabase.co:5432/postgres?sslmode=require
spring.datasource.username=postgres
spring.datasource.password=islandhop123#
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.hikari.connection-timeout=300000
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.idle-timeout=30000
spring.datasource.hikari.max-lifetime=1800000

# JPA Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true