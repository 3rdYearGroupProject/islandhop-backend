# Trip Planning Service Configuration
server.port=8084
server.servlet.context-path=/api

# Application Info
spring.application.name=trip-planning-service
spring.profiles.active=dev
management.endpoints.web.exposure.include=health,info

# Fix for WebFlux + Spring MVC coexistence
spring.main.allow-bean-definition-overriding=true
spring.main.web-application-type=servlet

# MongoDB Configuration (MongoDB Atlas)
spring.data.mongodb.uri=${MONGODB_URI:mongodb+srv://2022cs056:dH4aTFn3IOerWlVZ@cluster0.9ccambx.mongodb.net/islandhop_trips?retryWrites=true&w=majority}
spring.data.mongodb.database=islandhop_trips

# Logging
logging.level.com.islandhop=DEBUG
logging.level.root=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# External API Configuration
# User Services
user.service.base-url=http://localhost:8083/api/v1
user.service.validate-session-endpoint=/tourist/session/validate

# External APIs
tripadvisor.api.base-url=https://api.content.tripadvisor.com/api/v1
tripadvisor.api.key=${TRIPADVISOR_API_KEY:83917CC8B63044EB954118EC2FD0F1AC}

google.maps.api.key=${GOOGLE_MAPS_API_KEY:AIzaSyCCk35BJWjRvG7KHskc0GETOWe0qrBE-Go}
google.maps.distance-matrix.url=https://maps.googleapis.com/maps/api/distancematrix/json
google.maps.places.url=https://maps.googleapis.com/maps/api/place

openweather.api.key=${OPENWEATHER_API_KEY:your-api-key-here}
openweather.api.url=https://api.openweathermap.org/data/2.5

# CORS Configuration
cors.allowed-origins=http://localhost:3000 
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
cors.allowed-headers=*
cors.allow-credentials=true

# Recommendation Algorithm Configuration
recommendation.max-daily-travel-hours=8
recommendation.buffer-time-minutes=30
recommendation.max-attractions-per-day=4
recommendation.similarity-threshold=0.7
recommendation.cache-duration-minutes=60

# API Rate Limiting Configuration
api.max-concurrent-calls=8
api.request-delay-ms=200

# TripAdvisor API Configuration
api.tripadvisor.key=${TRIPADVISOR_API_KEY:83917CC8B63044EB954118EC2FD0F1AC}
api.tripadvisor.url=https://api.content.tripadvisor.com/api/v1

# Google Places API Configuration
api.google.places.key=${GOOGLE_PLACES_API_KEY:AIzaSyCCk35BJWjRvG7KHskc0GETOWe0qrBE-Go}
api.google.places.url=https://maps.googleapis.com/maps/api/place

# Management and Health Check Configuration
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always
management.health.mongo.enabled=true
management.health.defaults.enabled=false
management.health.ping.enabled=true
management.health.diskSpace.enabled=true